@using Microsoft.AspNetCore.Http.Extensions
@using Microsoft.Extensions.Options
@using ShoesEcommerce.Services.Options
@inject IOptions<TawkToOptions> TawkToOptions
@*
    Social Sharing Buttons Partial View - Using AddToAny
    Usage: @await Html.RenderPartialAsync("_SocialShare")
*@

@{
    var shareUrl = ViewData["ShareUrl"]?.ToString() ?? Context.Request.GetDisplayUrl();
    var shareTitle = ViewData["ShareTitle"]?.ToString() ?? ViewData["Title"]?.ToString() ?? "SPORTS - Giày th? thao chính hãng";
    var shareDescription = ViewData["ShareDescription"]?.ToString() ?? ViewData["MetaDescription"]?.ToString() ?? "C?a hàng giày dép chính hãng";
    var shareImage = ViewData["ShareImage"]?.ToString() ?? $"{Context.Request.Scheme}://{Context.Request.Host}/images/og-image.jpg";
}

<!-- Social Share Buttons using AddToAny -->
<div class="share-wrapper">
    <span class="share-label">Chia s?:</span>
    
    <!-- AddToAny BEGIN -->
    <div class="a2a_kit a2a_kit_size_32 a2a_default_style" 
         data-a2a-url="@shareUrl" 
         data-a2a-title="@shareTitle">
        <a class="a2a_button_facebook" title="Facebook"></a>
        <a class="a2a_button_facebook_messenger" title="Messenger"></a>
        <a class="a2a_button_twitter" title="Twitter"></a>
        <a class="a2a_button_pinterest" title="Pinterest"></a>
        <a class="a2a_button_email" title="Email"></a>
        <a class="a2a_button_copy_link" title="Sao chép liên k?t"></a>
        <a class="a2a_dd" href="https://www.addtoany.com/share" title="Thêm"></a>
    </div>
    <!-- AddToAny END -->
</div>

<style>
    .share-wrapper {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin: 1rem 0;
        padding: 0.75rem 0;
        border-top: 1px solid #f0f0f0;
    }
    
    .share-label {
        font-size: 0.8rem;
        color: #666;
        font-weight: 500;
    }

    /* AddToAny custom styles */
    .a2a_kit {
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }

    .a2a_kit a {
        display: flex !important;
        align-items: center;
        justify-content: center;
        width: 36px !important;
        height: 36px !important;
        border-radius: 50% !important;
        transition: transform 0.2s ease, box-shadow 0.2s ease !important;
    }

    .a2a_kit a:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
    }

    .a2a_kit a span {
        width: 20px !important;
        height: 20px !important;
        background-size: contain !important;
    }

    @@media (max-width: 480px) {
        .share-wrapper {
            flex-wrap: wrap;
        }
        
        .a2a_kit a {
            width: 40px !important;
            height: 40px !important;
        }
    }
</style>
